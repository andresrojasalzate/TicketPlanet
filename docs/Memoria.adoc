= TICKETPLANET 
Adria Bernabeu, Salma Picazo, Andres Rojas

:toc-title: ÍNDICE
:figure-caption: Figura
:table-caption: Taula
:example-caption: Exemple
:doctype: book
:encoding: utf-8
:lang: es
:toc: left
:toclevels: 5
:sectnums:
:icons: font   
:numbered:

== INTRODUCCIÓN

*TicketPlanet*

image::Images/Logo.png[Logo principal, width=10%]

*Miembros*  

- Adria Bernabeu

- Salma Picazo

- Andres Rojas

=== Objetivo de la aplicación

== PLANIFICACIÓN Y SEGUIMIENTO

=== Semana 1

==== Salma
- Diseño Mockups pantalla home, versión movil y Web, Figma
- Implementación Header y Footer
- Diagrama de clases
- Diagrama entorno Docker
- Creación del Logo de la aplicación y favicon

==== Andres
- Diseño de la guia de estilos
- Configuración del Docker
- Congiguración de las migraciones 
- Configuración de los factorys y seeders 
- Función para mostrar todos los eventos en home
- Función para el buscador 
- Configuración del Isard

==== Adrian
- Diseño de la guia de estilos
- Diseño Mockups pantalla home, version movil y web
- Figma y trello
- Test funcionales

=== Semana 2

==== Salma
- Diseño Mockups pantalla Login, version movil y web, Figma
- Implementación Funcionalidad Login
- Diseño Mockups pantalla "Restablecer contraseña", versión movil y web, Figma
- Implementación Funcionalidad Cerrar Sesión.
- Arreglar CSS de la pantalla Home.

==== Andres
- Diseño de mockups para pantalla de movil y web de la nueva pantalla home
- Creación de la nueva tabla Cateorias y modificación de la base de datos para ajustarse a la nueva tabla
- Plantilla para las vistas de la web
- Funcion para mostar las categorias y sus eventos en la nueva pantalla home

==== Adrian
- Diseño de la pagina crear Esdeveniments en el figma version movil y web
- Implementacion funcionalidad de la pagina home Promotors
- Test funcionales

=== Semana 3

==== Salma
- Diseño Mockups pantalla Mostrar info evento, version movil y web, Figma
- Implementación Funcionalidad Restablecer contraseña
- Arreglar CSS de varias pantallas.
- Implementación Mostrar Información del Evento en pantalla "ShowEvent". (Pendiente implementación entradas, etc.).
- Modificadas migraciones de eventos y sesiones para funcionalidad Crear Eventos.

==== Adria
- Diseño pagina crear Esdeveniments version movil, web
- Funcionalidad pagina crear Esdeveniments
- Funcionalidad en crear Esdeveniments validacion  

=== Semana 4


== DISEÑO

=== Base de datos

[plantuml,,png]
----
class Eventos{
id: int
nombre: string
imagen: string
precio: float               
idCategoria: int
idRecinto: int         
}

class Categoria{
idCategoria: int                      
nombre: string  
}

class Sesion{
idSesion: int   
fecha: Date
hora: Time
}

class Recinto{
idRecinto: int      
nombre: string
dirección: string
capacidad: int
}   

Eventos "0...n" -- "1" Categoria
Eventos "0...n" -- "1" Recinto  
Eventos "1" - "1...n" Sesion 
----

=== Interfícies
    
==== Sketching

==== Figma
Link a las interfícies de Figma https://www.figma.com/file/V47MqQzp5biMSzsQ5m7gZU/Mockups?type=design&node-id=0-1&mode=design&t=IMIfO6zr6hBVFlYG-0[aquí]. 

=== Guía de estilos
Link a la guía de estilos de Figma https://www.figma.com/file/7RISOKUOjvDXdzufahisrv/Gu%C3%ADa-de-estilos?type=design&node-id=0%3A1&mode=design&t=QgHjfUcq2g73B829-1[aquí]. 

== MANUAL DE INSTALACIÓN

=== Paso 1: Instalar Apache

Instala Apache en tu servidor Debian

```bash
sudo apt update
sudo apt install apache2
```

Habilita el módulo de Apache necesario para ejecutar aplicaciones PHP.

```bash
sudo a2enmod php8.2
sudo systemctl restart apache2
```

=== Paso 2: Instalar PHP y Extensiones Necesarias

```bash
sudo apt install php7.4 sudo apt install php8.2-curl php8.2-dom php8.2-mbstring php8.2-xml php8.2-pgsql zip unzip
```

=== Paso 3: Descargar proyecto laravel

```bash
cd /var/www/
git pull https://git.copernic.cat/abernabeu/gr3-bernabeu-rojas-picazo.git
```
=== Paso 4: Configurar conexión a base de datos

```bash
cd /var/www/gr3-bernabeu-rojas-picazo/ticketplanet
cp .env.example .env
```
Modficar el archivo .env 

```bash
DB_CONNECTION=pgsql
DB_HOST=127.0.0.1
DB_PORT=5432
DB_DATABASE=ticketplanet
DB_USERNAME=usuario
DB_PASSWORD=1234
```

=== Paso 6: Instalar Dependencias de Composer

Instala las dependencias de Composer para tu proyecto Laravel.

```bash
cd /var/www/gr3-bernabeu-rojas-picazo/ticketplanet
composer install --no-dev
```

=== Paso 7: Generar app key

```bash
cd /var/www/gr3-bernabeu-rojas-picazo/ticketplanet
php artisan key:generate
```

=== Paso 8: Dar permisos
```bash
cd /var/www/gr3-bernabeu-rojas-picazo/ticketplanet
chown -R www-data storage
chown -R www-data bootstrap/cache
```
```bash
chmod -R 755 storage
chmod -R 755 bootstrap/cache
```

=== Paso 9: Configurar Virtual Host de Apache

Crea un archivo de configuración de Virtual Host para tu proyecto Laravel

```bash
sudo nano /etc/apache2/sites-available/laravel.conf
```
Pon el siguiente contenido:

```bash
<VirtualHost *:80>
    ServerName ticket.com
    DocumentRoot /var/www/gr3-bernabeu-rojas-picazo/ticketplanet/public

    <Directory /var/www/gr3-bernabeu-rojas-picazo/ticketplanet/public>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    ErrorLog ${APACHE_LOG_DIR}/demo-error.log
    CustomLog ${APACHE_LOG_DIR}/demo-access.log combined
</VirtualHost>
```

Guarda y cierra el archivo. Luego, habilita el Virtual Host y reinicia Apache.

```bash
sudo a2ensite laravel
sudo systemctl restart apache2
```


== CONCLUSIÓN   

=== Líneas futuras

=== Webgrafia

=== Presentación
